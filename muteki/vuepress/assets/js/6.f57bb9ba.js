(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{354:function(s,t,n){"use strict";n.r(t);var a=n(43),r=Object(a.a)({},(function(){var s=this,t=s.$createElement,n=s._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h3",{attrs:{id:"权限部分说明-pc后台部分"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#权限部分说明-pc后台部分"}},[s._v("#")]),s._v(" 权限部分说明(pc后台部分)")]),s._v(" "),n("ul",[n("li",[s._v("说明 目前的思路为用户可以看到后台的 "),n("strong",[s._v("某个页面或者按钮")]),s._v("，那么用户就拥有 "),n("strong",[s._v("访问该页面或者按钮触发的接口请求")]),s._v(" 的权限，前端通过 "),n("strong",[s._v("动态生成菜单栏和按钮")]),s._v(" 来展示权限，后端通过"),n("strong",[s._v("PcAuthorizationInterceptor")]),s._v("拦截器拦截用户的访问请求")]),s._v(" "),n("li",[s._v("权限设置\n"),n("ul",[n("li",[s._v("如果 "),n("strong",[s._v("接口")]),s._v(" 不在任何 "),n("strong",[s._v("功能拥有的api")]),s._v(" 下，那么该接口只会判断是否登录，不做权限验证处理")]),s._v(" "),n("li",[s._v("后台管理->系统管理->功能管理-> "),n("strong",[s._v("编辑拥有api")]),s._v("按钮\n"),n("ul",[n("li",[s._v("可以设置为进入 "),n("strong",[s._v("此界面")]),s._v(" 或者可以操作 "),n("strong",[s._v("此按钮")]),s._v(" 所需要的"),n("strong",[s._v("接口url数组")])]),s._v(" "),n("li",[s._v("例如，进入 "),n("strong",[s._v("用户管理页面")]),s._v(" 需要查看 "),n("strong",[s._v("用户列表的接口权限")]),s._v("，那么就设置 "),n("strong",[s._v("用户管理界面")]),s._v(" 拥有 "),n("strong",[s._v("用户列表的接口")]),s._v(";\n"),n("strong",[s._v("新增用户")]),s._v(" 需要 "),n("strong",[s._v("新增用户的接口权限")]),s._v(",那么就设置 "),n("strong",[s._v("新增用户按钮")]),s._v(" 拥有 "),n("strong",[s._v("新增用户的接口")])])])]),s._v(" "),n("li",[s._v("动态展示按钮"),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[s._v("      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("let")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n         sysUser_add"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sysUser_delete"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sysUser_role"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sysUser_resetPwd"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sysUser_updatePhone"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" sysUser_updateStatus\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("$globalFun"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[s._v("getSessionStorage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'buttonMap'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),s._v("用户登录后会在 "),n("strong",[s._v("浏览器session")]),s._v(" 中存放用户拥有的 "),n("strong",[s._v("权限按钮列表")]),s._v(" ,如果用户拥有新增用户的权限，那么 "),n("strong",[s._v("sysUser_add")]),s._v(" 的值为true，赋值给 "),n("strong",[s._v("vue的data")]),s._v(" 之后就可以动态展示/隐藏按钮")])])]),s._v(" "),n("li",[s._v("权限配置\n"),n("ul",[n("li",[n("strong",[s._v("角色管理")]),s._v("模块给角色设置对应的功能即可")])])]),s._v(" "),n("li",[s._v("页面展示/隐藏\n"),n("ul",[n("li",[s._v("用户登录会自动获取拥有的角色，然后匹配到相应的权限，系统会自动渲染用户拥有的菜单列表和动态展示按钮")])])])])])}),[],!1,null,null,null);t.default=r.exports}}]);